(this["webpackJsonppdf-editor"]=this["webpackJsonppdf-editor"]||[]).push([[0],{17:function(e,t){},29:function(e,t,r){},30:function(e,t,r){},57:function(e,t){},58:function(e,t){},59:function(e,t){},60:function(e,t){},61:function(e,t){},65:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(18),c=r.n(s),i=(r(29),r(7)),l=r.n(i),o=r(23),d=r(13),f=r(19),u=r(20),p=r(8),h=r(24),j=r(22),b=(r(30),r(9)),m=r(3);b.c.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(b.c.version,"/pdf.worker.js");var O=function(e){Object(h.a)(r,e);var t=Object(j.a)(r);function r(e){var n;return Object(f.a)(this,r),(n=t.call(this,e)).state={},n.handleUpload=n.handleUpload.bind(Object(p.a)(n)),n.mergePDFs=n.mergePDFs.bind(Object(p.a)(n)),n}return Object(u.a)(r,[{key:"handleUpload",value:function(){var e=Object(d.a)(l.a.mark((function e(t){var r,n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=[],n=Object(o.a)(t.target.files),e.prev=2,n.s();case 4:if((a=n.n()).done){e.next=15;break}return s=a.value,e.t0=r,e.t1=Uint8Array,e.next=10,s.arrayBuffer();case 10:e.t2=e.sent,e.t3=new e.t1(e.t2),e.t0.push.call(e.t0,e.t3);case 13:e.next=4;break;case 15:e.next=20;break;case 17:e.prev=17,e.t4=e.catch(2),n.e(e.t4);case 20:return e.prev=20,n.f(),e.finish(20);case 23:this.setState({fileBuffers:r.map((function(e){return Array.from(e)})),fileUrls:Array.from(t.target.files).map((function(e){return URL.createObjectURL(e)}))});case 24:case"end":return e.stop()}}),e,this,[[2,17,20,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"mergePDFs",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r,n,a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:9000/pdf-merger",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({urls:this.state.fileBuffers})});case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,n=new Uint8Array(r.data.split(",")).buffer,a=new File([n],"merged.pdf",{type:"application/pdf"}),s=URL.createObjectURL(a),this.setState({mergedUrl:s});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"container",children:[Object(m.jsx)("div",{className:"pdfMerged",children:this.state.mergedUrl&&Object(m.jsx)("embed",{src:this.state.mergedUrl,className:"pdfEmbed"})}),Object(m.jsxs)("div",{className:"pdfViewer",children:[Object(m.jsxs)("div",{className:"buttons",children:[Object(m.jsx)("label",{htmlFor:"pdf1",className:"upload",children:"Upload files to merge"}),Object(m.jsx)("input",{type:"file",name:"pdf1",id:"pdf1",accept:"application/pdf",onChange:this.handleUpload,multiple:!0}),Object(m.jsx)("button",{className:"upload",id:"mergeButton",onClick:this.mergePDFs,children:"Merge"})]}),Object(m.jsx)("div",{className:"pdfPreview",children:this.state.fileUrls&&this.state.fileUrls.map((function(e,t){return Object(m.jsx)(b.a,{file:e,children:Object(m.jsx)(b.b,{pageNumber:1})},t)}))})]})]})}}]),r}(a.a.Component);c.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(O,{})}),document.getElementById("root"))}},[[65,1,2]]]);
//# sourceMappingURL=main.4c5dcd7a.chunk.js.map